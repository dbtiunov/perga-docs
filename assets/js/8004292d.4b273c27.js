"use strict";(self.webpackChunkperga_docs=self.webpackChunkperga_docs||[]).push([[674],{2703:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"perga-web","title":"Perga Web","description":"License: MIT","source":"@site/docs/perga-web.md","sourceDirName":".","slug":"/perga-web","permalink":"/docs/perga-web","draft":false,"unlisted":false,"editUrl":"https://github.com/dbtiunov/perga-docs/tree/main/docs/perga-web.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Perga API","permalink":"/docs/perga-api"}}');var l=i(4848),r=i(8453);const c={sidebar_position:3},t="Perga Web",d={},o=[{value:"Overview",id:"overview",level:2},{value:"Features",id:"features",level:2},{value:"Demo",id:"demo",level:2},{value:"Tech Stack",id:"tech-stack",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Environment variables",id:"environment-variables",level:2},{value:"Installation",id:"installation",level:2},{value:"Development",id:"development",level:2},{value:"Build &amp; Preview",id:"build--preview",level:2},{value:"Docker",id:"docker",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"Path Aliases",id:"path-aliases",level:2},{value:"CI",id:"ci",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"License",id:"license",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"perga-web",children:"Perga Web"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.img,{src:"https://img.shields.io/badge/License-MIT-blue.svg",alt:"License: MIT"}),"\n",(0,l.jsx)(n.img,{src:"https://github.com/dbtiunov/perga-web/actions/workflows/ci.yml/badge.svg",alt:"Build"})]}),"\n",(0,l.jsxs)(n.p,{children:["The web client for the Perga personal organizer system. It connects to the ",(0,l.jsx)(n.a,{href:"./perga-api",children:"Perga API"})," and provides a responsive, accessible interface for daily planning and monthly agendas."]}),"\n",(0,l.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,l.jsx)(n.p,{children:"Perga Web is a standalone SPA built with React and Vite. It communicates with Perga API using a configurable base URL and implements authentication, planner views, and user settings fully in the browser."}),"\n",(0,l.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Daily planner"}),"\n",(0,l.jsx)(n.li,{children:"Monthly and custom agendas"}),"\n",(0,l.jsx)(n.li,{children:"User authentication and settings"}),"\n",(0,l.jsx)(n.li,{children:"Responsive design with mobile support"}),"\n",(0,l.jsx)(n.li,{children:"Dark theme"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"demo",children:"Demo"}),"\n",(0,l.jsx)(n.p,{children:"Try the hosted demo:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://demo.getperga.me/",children:"https://demo.getperga.me/"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"tech-stack",children:"Tech Stack"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"React 19"}),"\n",(0,l.jsx)(n.li,{children:"TypeScript (~5.7)"}),"\n",(0,l.jsx)(n.li,{children:"Vite 6"}),"\n",(0,l.jsx)(n.li,{children:"Tailwind CSS 4"}),"\n",(0,l.jsx)(n.li,{children:"React Router 7"}),"\n",(0,l.jsx)(n.li,{children:"Axios 1"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Node.js 20+ (Docker uses ",(0,l.jsx)(n.code,{children:"node:20-alpine"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:["npm 8+ (project uses npm; a ",(0,l.jsx)(n.code,{children:"package-lock.json"})," is included)"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"environment-variables",children:"Environment variables"}),"\n",(0,l.jsxs)(n.p,{children:["Create a ",(0,l.jsx)(n.code,{children:".env"})," file from the example and adjust values as needed:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env\n"})}),"\n",(0,l.jsx)(n.p,{children:"Available variables:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"VITE_API_BASE_URL"})," \u2014 Base URL of Perga API (example: ",(0,l.jsx)(n.code,{children:"http://127.0.0.1:8080/api/v1"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"VITE_IS_SIGNUP_DISABLED"})," \u2014 When ",(0,l.jsx)(n.code,{children:"true"}),", hides/disables the Signup option in the UI"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["Clone the repository:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/dbtiunov/perga-web.git\ncd perga-web\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Install dependencies:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm install\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["Configure environment:","\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env\n# then edit .env\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"development",children:"Development"}),"\n",(0,l.jsxs)(n.p,{children:["Start the Vite development server (defaults to ",(0,l.jsx)(n.a,{href:"http://localhost:5173",children:"http://localhost:5173"}),"):"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm run dev\n"})}),"\n",(0,l.jsx)(n.p,{children:"Code quality:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm run lint\nnpm run format       # write\nnpm run format:check # check only\n"})}),"\n",(0,l.jsx)(n.h2,{id:"build--preview",children:"Build & Preview"}),"\n",(0,l.jsx)(n.p,{children:"Build production assets (TypeScript build + Vite build):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm run build\n"})}),"\n",(0,l.jsx)(n.p,{children:"Preview the production build locally:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"npm run preview\n"})}),"\n",(0,l.jsxs)(n.p,{children:["The build output is written to the ",(0,l.jsx)(n.code,{children:"dist/"})," directory."]}),"\n",(0,l.jsx)(n.h2,{id:"docker",children:"Docker"}),"\n",(0,l.jsx)(n.p,{children:"The app can be built and served by nginx using Docker Compose."}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"# Build and start\ndocker-compose up -d\n\n# Stop\ndocker-compose down\n"})}),"\n",(0,l.jsx)(n.p,{children:"Defaults:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Container serves on port 80 via nginx"}),"\n",(0,l.jsxs)(n.li,{children:["Host is mapped to ",(0,l.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})," (compose maps ",(0,l.jsx)(n.code,{children:"3000:80"}),")"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"VITE_API_BASE_URL"})," is passed as a build ARG and from ",(0,l.jsx)(n.code,{children:".env"})," (compose uses ",(0,l.jsx)(n.code,{children:"env_file: .env"}),")"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Health endpoint (inside container): ",(0,l.jsx)(n.code,{children:"GET /health/"})," \u2192 ",(0,l.jsx)(n.code,{children:"200 ok"})]}),"\n",(0,l.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:"perga-web/\n\u251c\u2500\u2500 src/                  # Source code\n\u2502   \u251c\u2500\u2500 api/              # API clients & types\n\u2502   \u251c\u2500\u2500 assets/           # Static assets\n\u2502   \u251c\u2500\u2500 common/           # Shared UI/components/utils\n\u2502   \u251c\u2500\u2500 contexts/         # React contexts\n\u2502   \u251c\u2500\u2500 sections/         # Main application sections\n\u2502   \u2502   \u251c\u2500\u2500 auth/         # Authentication components\n\u2502   \u2502   \u251c\u2500\u2500 planner/      # Planning functionality\n\u2502   \u2502   \u2514\u2500\u2500 settings/     # User settings\n\u2502   \u251c\u2500\u2500 App.tsx           # Main application component\n\u2502   \u2514\u2500\u2500 main.tsx          # Application entry point\n\u251c\u2500\u2500 public/               # Public assets\n\u251c\u2500\u2500 .env.example          # Example environment variables\n\u251c\u2500\u2500 docker-compose.yml    # Docker Compose configuration\n\u251c\u2500\u2500 Dockerfile            # Multi-stage build (Node 20) + nginx runner\n\u251c\u2500\u2500 nginx/nginx.conf      # nginx config for SPA\n\u251c\u2500\u2500 index.html            # HTML entry point\n\u251c\u2500\u2500 package.json          # Scripts and dependencies\n\u251c\u2500\u2500 tsconfig.json         # TypeScript project references\n\u2514\u2500\u2500 vite.config.ts        # Vite configuration and path aliases\n"})}),"\n",(0,l.jsx)(n.h2,{id:"path-aliases",children:"Path Aliases"}),"\n",(0,l.jsxs)(n.p,{children:["The project uses path aliases (defined in ",(0,l.jsx)(n.code,{children:"vite.config.ts"}),") to simplify imports:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@"})," \u2192 ",(0,l.jsx)(n.code,{children:"src"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@api"})," \u2192 ",(0,l.jsx)(n.code,{children:"src/api"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@assets"})," \u2192 ",(0,l.jsx)(n.code,{children:"src/assets"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@common"})," \u2192 ",(0,l.jsx)(n.code,{children:"src/common"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@contexts"})," \u2192 ",(0,l.jsx)(n.code,{children:"src/contexts"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@sections"})," \u2192 ",(0,l.jsx)(n.code,{children:"src/sections"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@auth"})," \u2192 ",(0,l.jsx)(n.code,{children:"src/sections/auth"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@planner"})," \u2192 ",(0,l.jsx)(n.code,{children:"src/sections/planner"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"@settings"})," \u2192 ",(0,l.jsx)(n.code,{children:"src/sections/settings"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"ci",children:"CI"}),"\n",(0,l.jsxs)(n.p,{children:["GitHub Actions workflow: ",(0,l.jsx)(n.code,{children:".github/workflows/ci.yml"})]}),"\n",(0,l.jsxs)(n.p,{children:["Badge: ",(0,l.jsx)(n.img,{src:"https://github.com/dbtiunov/perga-web/actions/workflows/ci.yml/badge.svg",alt:"Build"})]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["CORS: ensure ",(0,l.jsx)(n.code,{children:"VITE_API_BASE_URL"})," points to the correct API and that CORS is enabled by the API."]}),"\n",(0,l.jsxs)(n.li,{children:["Signup hidden: set ",(0,l.jsx)(n.code,{children:"VITE_IS_SIGNUP_DISABLED=false"})," (or omit) to show the Signup link."]}),"\n",(0,l.jsxs)(n.li,{children:["Blank page in production: verify nginx serves ",(0,l.jsx)(n.code,{children:"index.html"})," for SPA routes (configured via ",(0,l.jsx)(n.code,{children:"try_files"})," in ",(0,l.jsx)(n.code,{children:"nginx.conf"}),")."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"license",children:"License"}),"\n",(0,l.jsxs)(n.p,{children:["This project is licensed under the MIT License - see the ",(0,l.jsx)(n.a,{href:"https://github.com/dbtiunov/perga-web/blob/main/LICENSE",children:"LICENSE"})," file for details."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>t});var s=i(6540);const l={},r=s.createContext(l);function c(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);