"use strict";(self.webpackChunkperga_docs=self.webpackChunkperga_docs||[]).push([[803],{7248:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>r});const l=JSON.parse('{"id":"installation","title":"Installation","description":"Run Perga locally with Docker in two ways:","source":"@site/docs/installation.md","sourceDirName":".","slug":"/installation","permalink":"/docs/installation","draft":false,"unlisted":false,"editUrl":"https://github.com/dbtiunov/perga-docs/tree/main/docs/installation.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Installation"},"sidebar":"tutorialSidebar","previous":{"title":"Introduction to Perga","permalink":"/docs/intro"},"next":{"title":"Perga API","permalink":"/docs/perga-api"}}');var i=s(4848),t=s(8453);const a={sidebar_position:2,title:"Installation"},o=void 0,c={},r=[{value:"Download all install files in one command",id:"download-all-install-files-in-one-command",level:2},{value:"Quick install (install.sh)",id:"quick-install-installsh",level:2},{value:"Manual install (docker compose)",id:"manual-install-docker-compose",level:2},{value:"Update to a newer version",id:"update-to-a-newer-version",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Run Perga locally with Docker in two ways:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Quick install with ",(0,i.jsx)(n.code,{children:"install.sh"})," (recommended)"]}),"\n",(0,i.jsxs)(n.li,{children:["Manual install with ",(0,i.jsx)(n.code,{children:"docker compose"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"download-all-install-files-in-one-command",children:"Download all install files in one command"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mkdir -p perga-install && cd perga-install && \\\n  curl -fsSL \\\n    -O https://docs.getperga.me/installation/docker-compose.yml \\\n    -O https://docs.getperga.me/installation/.env.example \\\n    -O https://docs.getperga.me/installation/install.sh && \\\n  chmod +x install.sh\n"})}),"\n",(0,i.jsx)(n.h2,{id:"quick-install-installsh",children:"Quick install (install.sh)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"./install.sh\n"})}),"\n",(0,i.jsx)(n.p,{children:"Notes:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["On first run, if ",(0,i.jsx)(n.code,{children:".env"})," is missing, the script creates it from ",(0,i.jsx)(n.code,{children:".env.example"})," and exits so you can edit it. Re-run ",(0,i.jsx)(n.code,{children:"./install.sh"})," afterward."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Verify:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Web UI: ",(0,i.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})]}),"\n",(0,i.jsxs)(n.li,{children:["OpenAPI docs: ",(0,i.jsx)(n.a,{href:"http://localhost:8000/docs",children:"http://localhost:8000/docs"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"manual-install-docker-compose",children:"Manual install (docker compose)"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Create and edit your env"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env\n# open .env and set strong SECRET_KEY and DB creds\n"})}),"\n",(0,i.jsx)(n.p,{children:"Env vars:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"POSTGRES_*"})," \u2014 Postgres credentials and DB name"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"API_BASE_URL"})," \u2014 Web \u2192 API URL (default ",(0,i.jsx)(n.code,{children:"http://127.0.0.1:8000/api/v1"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"CORS_ORIGINS"}),", ",(0,i.jsx)(n.code,{children:"SECRET_KEY"})," \u2014 API security (use a strong random secret)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"IS_SIGNUP_DISABLED"})," \u2014 set ",(0,i.jsx)(n.code,{children:"true"})," to disable self\u2011signup"]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Start services"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose pull\ndocker compose up -d\n"})}),"\n",(0,i.jsx)(n.p,{children:"Check status"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose ps\n"})}),"\n",(0,i.jsx)(n.p,{children:"Access"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Web UI: ",(0,i.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})]}),"\n",(0,i.jsxs)(n.li,{children:["OpenAPI docs: ",(0,i.jsx)(n.a,{href:"http://localhost:8000/docs",children:"http://localhost:8000/docs"})]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"update-to-a-newer-version",children:"Update to a newer version"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker compose pull\ndocker compose up -d\n"})})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>o});var l=s(6540);const i={},t=l.createContext(i);function a(e){const n=l.useContext(t);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),l.createElement(t.Provider,{value:n},e.children)}}}]);